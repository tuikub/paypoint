<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ ‡∏ï‡∏±‡∏ß‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏≠‡∏ó (n8n Tester)</title>
    <style>
        body { font-family: sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding-top: 50px; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 400px; }
        h2 { text-align: center; color: #333; }
        label { font-weight: bold; display: block; margin-top: 15px; }
        input, textarea { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; background-color: #007bff; color: white; border: none; padding: 12px; border-radius: 8px; font-size: 16px; margin-top: 20px; cursor: pointer; transition: 0.3s; }
        button:hover { background-color: #0056b3; }
        #result { margin-top: 20px; padding: 15px; background: #e9ecef; border-radius: 8px; min-height: 50px; white-space: pre-wrap; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <h2>üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏≠‡∏ó AI</h2>
    
    <label>1. ‡∏ß‡∏≤‡∏á URL ‡∏Ç‡∏≠‡∏á n8n ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ:</label>
    <input type="text" id="url" placeholder="‡πÄ‡∏ä‡πà‡∏ô https://.../webhook-test/chat">
    
    <label>2. ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏ó:</label>
    <textarea id="msg" rows="3" placeholder="‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ AI..."></textarea>
    
    <button onclick="send()">üöÄ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
    
    <label>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å‡∏ö‡∏≠‡∏ó:</label>
    <div id="result">‡∏£‡∏≠‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>
</div>

<script>
    async function send() {
        const url = document.getElementById('url').value.trim();
        const msg = document.getElementById('msg').value;
        const resultBox = document.getElementById('result');

        if(!url) { alert("‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÉ‡∏™‡πà URL ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö!"); return; }
        
        resultBox.innerHTML = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏´‡∏≤ n8n...";
        
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ message: msg })
            });
            
            const data = await response.json();
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
            if(data.reply) {
                resultBox.innerHTML = `<span class="success">‚úÖ ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ß‡πà‡∏≤:</span>\n"${data.reply}"\n\n(‡∏ú‡∏π‡πâ‡∏ï‡∏≠‡∏ö: ${data.provider})`;
            } else {
                resultBox.innerHTML = JSON.stringify(data, null, 2);
            }
            
        } catch (error) {
            resultBox.innerHTML = `<span class="error">‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:</span>\n${error.message}\n\n(‡∏•‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏Å‡∏î Execute ‡πÉ‡∏ô n8n ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?)`;
        }
    }
</script>

</body>
</html>
