<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SABUY SPEED & WSOL - HR Smart Assistant</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #00a8ff;
            --accent-color: #ff9f43;
            --bg-color: #f4f7f6;
            --chat-bg: #ffffff;
            --user-msg-bg: #0056b3;
            --bot-msg-bg: #e9ecef;
            --line-color: #06C755;
            --ai-color: #8e44ad;
            --backup-ai-color: #c0392b;
            --quiz-color: #27ae60;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: #333;
        }

        /* --- Header --- */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }
        header h1 { margin: 0; font-size: 1.6em; }
        header p { margin: 5px 0 0; opacity: 0.9; font-size: 0.9em; }

        .internal-warning {
            background-color: #ffc107;
            color: #856404;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
            border: 1px solid #ffeeba;
        }

        .header-buttons {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .action-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .btn-line { background-color: var(--line-color); }
        .btn-line:hover { background-color: #05a546; }
        .btn-mol { background-color: #e67e22; }
        .btn-mol:hover { background-color: #d35400; }
        .btn-quiz { background-color: var(--quiz-color); }
        .btn-quiz:hover { background-color: #219150; }
        .btn-home { background-color: #34495e; display: none; }

        /* --- Container & Layout --- */
        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 0 15px;
        }
        
        .view-section { display: none; animation: fadeIn 0.3s; }
        .view-section.active { display: block; }
        
        .grid-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        /* --- Card Styles --- */
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            padding: 20px;
            overflow: hidden;
            border-top: 5px solid var(--primary-color);
            margin-bottom: 20px;
        }
        .card.sso-card { border-top-color: var(--accent-color); }
        .card.search-card { border-top-color: var(--ai-color); }
        .card.quiz-card { border-top-color: var(--quiz-color); }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }
        .header-left { display: flex; align-items: center; gap: 10px; }
        .section-header i { font-size: 1.4em; color: var(--primary-color); }
        .sso-card .section-header i { color: var(--accent-color); }
        .search-card .section-header i { color: var(--ai-color); }
        .quiz-card .section-header i { color: var(--quiz-color); }
        .section-header h2 { margin: 0; color: #333; font-size: 1.2em; }

        /* --- Chat Interface --- */
        .chat-window {
            height: 400px;
            overflow-y: auto;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #e0e0e0;
        }
        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            animation: fadeIn 0.3s;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .message.user { flex-direction: row-reverse; }
        .avatar {
            width: 35px; height: 35px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 0.9em;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .bot .avatar { background-color: var(--ai-color); margin-right: 10px; }
        .bot.backup .avatar { background-color: var(--backup-ai-color); }
        .user .avatar { background-color: var(--primary-color); margin-left: 10px; }

        .bubble {
            max-width: 80%;
            padding: 10px 14px;
            border-radius: 16px;
            font-size: 0.95em;
            line-height: 1.5;
            position: relative;
            word-wrap: break-word;
        }
        .bot .bubble { background-color: var(--bot-msg-bg); color: #333; border-top-left-radius: 2px; }
        .user .bubble { background-color: var(--user-msg-bg); color: white; border-top-right-radius: 2px; }

        /* --- Input Area --- */
        .input-area { display: flex; gap: 10px; position: relative; }
        .input-area input {
            flex: 1; padding: 12px 15px; padding-right: 50px;
            border: 2px solid #ddd; border-radius: 25px; outline: none;
            transition: border-color 0.3s;
        }
        .input-area input:focus { border-color: var(--ai-color); }
        .send-btn {
            position: absolute; right: 5px; top: 5px;
            width: 38px; height: 38px; border-radius: 50%;
            background-color: var(--ai-color); color: white;
            border: none; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }
        .send-btn:hover { background-color: #7d3c98; }

        /* --- Info Grid & Suggestions --- */
        .info-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;
        }
        .info-item {
            background: #fff; border-left: 4px solid #ddd; padding: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .card .info-item { border-left-color: var(--primary-color); }
        .sso-card .info-item { border-left-color: var(--accent-color); }
        .info-item h3 { margin: 0 0 5px; font-size: 1em; color: #444; display: flex; align-items: center; gap: 8px; }
        .info-item p { margin: 0; color: #666; font-size: 0.9em; }

        .suggestions { margin-top: 10px; display: flex; flex-wrap: wrap; gap: 8px; }
        .chip {
            background-color: #f0ebf8; color: var(--ai-color);
            padding: 5px 10px; border-radius: 15px; font-size: 0.8em;
            cursor: pointer; transition: 0.2s;
        }
        .chip:hover { background-color: var(--ai-color); color: white; }

        /* --- Quiz Styles --- */
        .quiz-container { text-align: center; }
        .question-box {
            background: #f9f9f9; padding: 20px; border-radius: 8px;
            margin-bottom: 20px; font-size: 1.1em; font-weight: bold; color: #444;
        }
        .options-grid { display: grid; gap: 10px; }
        .option-btn {
            padding: 12px; border: 2px solid #ddd; border-radius: 8px;
            background: white; cursor: pointer; text-align: left; transition: all 0.2s;
            font-size: 0.95em;
        }
        .option-btn:hover { border-color: var(--quiz-color); background: #f0fff4; }
        .option-btn.correct { background-color: #d4edda; border-color: #28a745; color: #155724; }
        .option-btn.wrong { background-color: #f8d7da; border-color: #dc3545; color: #721c24; }
        
        .quiz-score { font-size: 2em; color: var(--quiz-color); margin-bottom: 10px; }
        .quiz-feedback { margin-top: 15px; padding: 10px; background: #eee; border-radius: 5px; display: none; text-align: left;}

    </style>
</head>
<body>

<header>
    <div class="internal-warning"><i class="fas fa-lock"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô (Internal Only)</div>
    <h1><i class="fas fa-brain"></i> HR Smart Assistant + Quiz</h1>
    <p>‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞ (Gemini/Together) ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</p>

    <div class="header-buttons">
        <button id="btnHome" onclick="showHome()" class="action-btn btn-home">
            <i class="fas fa-home"></i> ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
        </button>
        <button id="btnQuiz" onclick="startQuiz()" class="action-btn btn-quiz">
            <i class="fas fa-graduation-cap"></i> ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
        </button>
        <a href="https://lin.ee/g7U9w4i" target="_blank" class="action-btn btn-line">
            <i class="fab fa-line"></i> ‡πÅ‡∏≠‡∏î‡πÑ‡∏•‡∏ô‡πå HR
        </a>
        <a href="https://apigateway.mol.go.th/" target="_blank" class="action-btn btn-mol">
            <i class="fas fa-external-link-alt"></i> ‡πÄ‡∏ß‡πá‡∏ö ‡∏Å.‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô
        </a>
    </div>
</header>

<div class="container">

    <!-- ================= VIEW 1: CHAT & INFO (HOME) ================= -->
    <div id="homeView" class="view-section active grid-layout">
        
        <!-- Search/Chat Card -->
        <div class="card search-card">
            <div class="section-header">
                <div class="header-left">
                    <i class="fas fa-comments"></i>
                    <h2>‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö & ‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢ (Dual AI)</h2>
                </div>
                <button onclick="clearChat()" style="border:none; background:none; color:#999; cursor:pointer;">
                    <i class="fas fa-trash"></i> ‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏ä‡∏ó
                </button>
            </div>
            
            <div class="chat-window" id="chatWindow">
                <div class="message bot">
                    <div class="avatar"><i class="fas fa-robot"></i></div>
                    <div class="bubble">
                        ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ HR ü§ñ<br>
                        1. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ <b>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô</b> ‡πÉ‡∏´‡πâ‡∏Å‡πà‡∏≠‡∏ô<br>
                        2. ‡∏ñ‡∏≤‡∏° <b>AI1</b> (‡∏´‡∏•‡∏±‡∏Å)<br>
                        3. ‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ <b>AI2</b> (‡∏™‡∏≥‡∏£‡∏≠‡∏á) ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥<br>
                        ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <b>"‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö"</b> ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö!
                    </div>
                </div>
            </div>

            <div class="input-area">
                <input type="text" id="userInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°... (‡πÄ‡∏ä‡πà‡∏ô ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢, ‡πÄ‡∏•‡∏¥‡∏Å‡∏à‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏á, ‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô)" onkeypress="handleKeyPress(event)">
                <button class="send-btn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
            </div>
            
            <div class="suggestions">
                <span class="chip" onclick="quickAsk('‡∏•‡∏∑‡∏°‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÑ‡∏á')">‚è∞ ‡∏•‡∏∑‡∏°‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (‡∏†‡∏≤‡∏¢‡πÉ‡∏ô)</span>
                <span class="chip" onclick="quickAsk('‡πÄ‡∏•‡∏¥‡∏Å‡∏à‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏á')">‚öñÔ∏è ‡∏Ñ‡πà‡∏≤‡∏ä‡∏î‡πÄ‡∏ä‡∏¢ (‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢)</span>
                <span class="chip" onclick="quickAsk('‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô')">üèñÔ∏è ‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô</span>
                <span class="chip" onclick="quickAsk('‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏ó‡∏≥‡∏ü‡∏±‡∏ô')">ü¶∑ ‡∏Ñ‡πà‡∏≤‡∏ó‡∏≥‡∏ü‡∏±‡∏ô</span>
            </div>
        </div>

        <!-- Static Info Cards -->
        <div class="card sso-card">
            <div class="section-header">
                <div class="header-left">
                    <i class="fas fa-shield-alt"></i>
                    <h2>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°</h2>
                </div>
            </div>
            <div class="info-grid">
                <div class="info-item">
                    <h3><i class="fas fa-tooth"></i> ‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°</h3>
                    <p>900 ‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢)</p>
                </div>
                <div class="info-item">
                    <h3><i class="fas fa-briefcase"></i> ‡∏ß‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô (‡∏•‡∏≤‡∏≠‡∏≠‡∏Å)</h3>
                    <p>‡∏£‡∏±‡∏ö 30% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (90 ‡∏ß‡∏±‡∏ô)</p>
                </div>
                <div class="info-item">
                    <h3><i class="fas fa-user-injured"></i> ‡∏ß‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô (‡πÄ‡∏•‡∏¥‡∏Å‡∏à‡πâ‡∏≤‡∏á)</h3>
                    <p>‡∏£‡∏±‡∏ö 50% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (180 ‡∏ß‡∏±‡∏ô)</p>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="section-header">
                <div class="header-left">
                    <i class="fas fa-building"></i>
                    <h2>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô (Internal Rules)</h2>
                </div>
            </div>
            <div class="info-grid">
                <div class="info-item">
                    <h3><i class="far fa-clock"></i> ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</h3>
                    <p>‡∏™‡∏ô‡∏á. ‡∏à-‡∏® / ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ ‡∏à-‡∏™ (08.30-17.30)</p>
                </div>
                <div class="info-item">
                    <h3><i class="fas fa-envelope-open-text"></i> ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</h3>
                    <p>‡πÅ‡∏à‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô 10.00 ‡∏ô. (3 ‡∏ß‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå)</p>
                </div>
            </div>
        </div>

    </div>

    <!-- ================= VIEW 2: QUIZ SECTION ================= -->
    <div id="quizView" class="view-section">
        <div class="card quiz-card">
            <div class="section-header">
                <div class="header-left">
                    <i class="fas fa-graduation-cap"></i>
                    <h2>‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h2>
                </div>
                <div id="quizProgress" style="font-weight:bold; color:#666;">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1/10</div>
            </div>

            <div id="quizContent" class="quiz-container">
                <div id="questionBox" class="question-box">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...</div>
                <div id="optionsGrid" class="options-grid">
                    <!-- Options will be injected here -->
                </div>
                <div id="quizFeedback" class="quiz-feedback"></div>
                
                <button id="nextBtn" onclick="nextQuestion()" class="action-btn btn-quiz" style="margin-top:20px; display:none;">
                    ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ <i class="fas fa-arrow-right"></i>
                </button>
            </div>

            <div id="quizResult" class="quiz-container" style="display:none;">
                <i class="fas fa-trophy" style="font-size: 3em; color: #f1c40f; margin-bottom:15px;"></i>
                <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
                <div id="finalScore" class="quiz-score">8/10</div>
                <p id="scoreText">‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å!</p>
                <button onclick="startQuiz()" class="action-btn btn-line">‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
                <button onclick="showHome()" class="action-btn btn-home" style="display:inline-flex;">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
            </div>
        </div>
    </div>

</div>

<script>
    // ==========================================
    // üîë API KEYS (‡πÉ‡∏™‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß)
    // ==========================================
    const GEMINI_API_KEY = "AIzaSyAnqjmk-VxP-XAVVnddpua394Pw71NtVfU"; 
    const TOGETHER_API_KEY = "fxx";
    // ==========================================

    // --- Local Database (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏à‡∏≤‡∏Å PDF) ---
    const localDatabase = [
        { keywords: ["‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô", "‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô", "‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô", "‡∏û‡∏±‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á"], answer: "üìå **‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó)**:\n- **‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô**: ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå 08.30-17.30 ‡∏ô.\n- **‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£/‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£**: ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡πÄ‡∏™‡∏≤‡∏£‡πå 08.30-17.30 ‡∏ô.\n- **‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å**: 12.00-13.00 ‡∏ô." },
        { keywords: ["‡∏•‡∏∑‡∏°‡∏™‡πÅ‡∏Å‡∏ô", "‡∏•‡∏∑‡∏°‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤", "‡∏•‡∏∑‡∏°‡∏ï‡∏≠‡∏Å‡∏ö‡∏±‡∏ï‡∏£", "‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ú‡∏¥‡∏î", "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ß‡∏•‡∏≤"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏∑‡∏°‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤ ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ **'‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô'** ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 21 ‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö" },
        { keywords: ["‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢", "‡∏õ‡πà‡∏ß‡∏¢", "‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ô **10.00 ‡∏ô.** ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏≤ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1 ‡∏ß‡∏±‡∏ô ‡∏´‡∏≤‡∏Å‡∏•‡∏≤ 3 ‡∏ß‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå (‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á 30 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ)" },
        { keywords: ["‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô", "‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà **6 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ** (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö 1 ‡∏õ‡∏µ) ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ **7 ‡∏ß‡∏±‡∏ô**" },
        { keywords: ["‡∏•‡∏≤‡∏Å‡∏¥‡∏à", "‡∏ò‡∏∏‡∏£‡∏∞"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á 3 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ (‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏•‡πâ‡∏ß) ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ **3 ‡∏ß‡∏±‡∏ô**" },
        { keywords: ["‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î", "‡∏ó‡πâ‡∏≠‡∏á", "‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏£‡∏†‡πå"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î‡πÑ‡∏î‡πâ **98 ‡∏ß‡∏±‡∏ô** (‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏à‡πà‡∏≤‡∏¢ 45 ‡∏ß‡∏±‡∏ô) ‡πÅ‡∏à‡πâ‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 5 ‡∏ß‡∏±‡∏ô\nüí° **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°**: ‡πÄ‡∏ö‡∏¥‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î 15,000 + ‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏á‡∏≤‡∏ô 50% ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" },
        { keywords: ["‡∏•‡∏≤‡∏ö‡∏ß‡∏ä"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏≠‡∏≤‡∏¢‡∏∏‡∏á‡∏≤‡∏ô 3 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ ‡∏•‡∏≤‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á 15 ‡∏ß‡∏±‡∏ô) ‡πÅ‡∏à‡πâ‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 7 ‡∏ß‡∏±‡∏ô" },
        { keywords: ["‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏≠‡∏≤‡∏¢‡∏∏‡∏á‡∏≤‡∏ô 1 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ ‡∏•‡∏≤‡πÑ‡∏î‡πâ 2 ‡∏ß‡∏±‡∏ô (‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á) ‡πÅ‡∏à‡πâ‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 7 ‡∏ß‡∏±‡∏ô" },
        { keywords: ["‡∏•‡∏≤‡∏≠‡∏≠‡∏Å"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡∏¢‡∏∑‡πà‡∏ô‡πÉ‡∏ö‡∏•‡∏≤‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏á‡∏ß‡∏î‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30 ‡∏ß‡∏±‡∏ô)" },
        { keywords: ["‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì"], answer: "üìå **‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô**: ‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö 60 ‡∏õ‡∏µ‡∏ö‡∏£‡∏¥‡∏ö‡∏π‡∏£‡∏ì‡πå" },
        { keywords: ["‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠", "hr", "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£"], answer: "üìû **‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠**: ‡πÇ‡∏ó‡∏£ 02-451-533-5 ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏≠‡∏î‡πÑ‡∏•‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö" }
    ];

    // --- Quiz Data (‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö) ---
    const quizData = [
        { q: "‡∏ô‡∏≤‡∏¢‡∏à‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πà‡∏•‡∏π‡∏Å‡∏à‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞‡∏Å‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á?", a: [ "1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡∏ó‡∏∏‡∏Å‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå", "‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô" ], c: 0, r: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô" },
        { q: "‡∏Ñ‡πà‡∏≤‡∏ó‡∏≥‡∏ü‡∏±‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° (‡∏°.33) ‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡∏õ‡∏µ‡∏•‡∏∞‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?", a: [ "600 ‡∏ö‡∏≤‡∏ó", "900 ‡∏ö‡∏≤‡∏ó", "1,200 ‡∏ö‡∏≤‡∏ó", "‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î" ], c: 1, r: "‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 900 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏õ‡∏µ" },
        { q: "‡∏•‡∏π‡∏Å‡∏à‡πâ‡∏≤‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö 1 ‡∏õ‡∏µ ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ (‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô) ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô?", a: [ "3 ‡∏ß‡∏±‡∏ô", "6 ‡∏ß‡∏±‡∏ô", "10 ‡∏ß‡∏±‡∏ô", "15 ‡∏ß‡∏±‡∏ô" ], c: 1, r: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 6 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏õ‡∏µ" },
        { q: "‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏°‡∏ó‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡∏°.33 ‡∏´‡∏±‡∏Å‡∏Å‡∏µ‡πà % ‡πÅ‡∏•‡∏∞‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Å‡∏µ‡πà‡∏ö‡∏≤‡∏ó?", a: [ "3% (450 ‡∏ö‡∏≤‡∏ó)", "5% (750 ‡∏ö‡∏≤‡∏ó)", "5% (1,000 ‡∏ö‡∏≤‡∏ó)", "10% (‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î)" ], c: 1, r: "5% ‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 750 ‡∏ö‡∏≤‡∏ó (‡∏ê‡∏≤‡∏ô 15,000)" },
        { q: "‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á‡∏õ‡∏µ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô?", a: [ "30 ‡∏ß‡∏±‡∏ô", "45 ‡∏ß‡∏±‡∏ô", "60 ‡∏ß‡∏±‡∏ô", "90 ‡∏ß‡∏±‡∏ô" ], c: 0, r: "‡∏•‡∏≤‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏õ‡∏µ" },
        { q: "‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î‡∏ö‡∏∏‡∏ï‡∏£‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‡∏•‡∏≤‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô?", a: [ "90 ‡∏ß‡∏±‡∏ô", "98 ‡∏ß‡∏±‡∏ô", "120 ‡∏ß‡∏±‡∏ô", "150 ‡∏ß‡∏±‡∏ô" ], c: 1, r: "98 ‡∏ß‡∏±‡∏ô (‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏£‡∏£‡∏†‡πå)" },
        { q: "‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡πÄ‡∏≠‡∏á ‡πÑ‡∏î‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏ß‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?", a: [ "30% (90 ‡∏ß‡∏±‡∏ô)", "50% (180 ‡∏ß‡∏±‡∏ô)", "70% (200 ‡∏ß‡∏±‡∏ô)", "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢" ], c: 0, r: "30% ‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 90 ‡∏ß‡∏±‡∏ô" },
        { q: "‡∏Ñ‡πà‡∏≤ OT ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô) ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤?", a: [ "1 ‡πÄ‡∏ó‡πà‡∏≤", "1.5 ‡πÄ‡∏ó‡πà‡∏≤", "2 ‡πÄ‡∏ó‡πà‡∏≤", "3 ‡πÄ‡∏ó‡πà‡∏≤" ], c: 1, r: "‡πÑ‡∏°‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 1.5 ‡πÄ‡∏ó‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á" },
        { q: "‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö 1 ‡∏õ‡∏µ (‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡∏¥‡∏ô 120 ‡∏ß‡∏±‡∏ô) ‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏à‡πâ‡∏≤‡∏á ‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏≤‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?", a: [ "30 ‡∏ß‡∏±‡∏ô", "60 ‡∏ß‡∏±‡∏ô", "90 ‡∏ß‡∏±‡∏ô", "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ" ], c: 0, r: "30 ‡∏ß‡∏±‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏¢‡∏∏‡∏á‡∏≤‡∏ô 120 ‡∏ß‡∏±‡∏ô - 1 ‡∏õ‡∏µ)" },
        { q: "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏ö‡∏≥‡πÄ‡∏´‡∏ô‡πá‡∏à/‡∏ö‡∏≥‡∏ô‡∏≤‡∏ç‡∏ä‡∏£‡∏≤‡∏†‡∏≤‡∏û ‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏£‡∏ö‡∏Å‡∏µ‡πà‡∏õ‡∏µ?", a: [ "50 ‡∏õ‡∏µ", "55 ‡∏õ‡∏µ", "60 ‡∏õ‡∏µ", "65 ‡∏õ‡∏µ" ], c: 1, r: "‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏£‡∏ö 55 ‡∏õ‡∏µ‡∏ö‡∏£‡∏¥‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ï‡∏ô" }
    ];

    let currentQuestion = 0;
    let score = 0;

    // --- Navigation Functions ---
    function showHome() {
        document.getElementById('homeView').classList.add('active');
        document.getElementById('quizView').classList.remove('active');
        document.getElementById('btnHome').style.display = 'none';
        document.getElementById('btnQuiz').style.display = 'inline-flex';
    }

    function startQuiz() {
        document.getElementById('homeView').classList.remove('active');
        document.getElementById('quizView').classList.add('active');
        document.getElementById('btnHome').style.display = 'inline-flex';
        document.getElementById('btnQuiz').style.display = 'none';
        
        // Reset Quiz
        currentQuestion = 0;
        score = 0;
        document.getElementById('quizContent').style.display = 'block';
        document.getElementById('quizResult').style.display = 'none';
        loadQuestion();
    }

    // --- Quiz Logic ---
    function loadQuestion() {
        const qData = quizData[currentQuestion];
        document.getElementById('quizProgress').textContent = `‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${currentQuestion + 1}/${quizData.length}`;
        document.getElementById('questionBox').textContent = qData.q;
        document.getElementById('quizFeedback').style.display = 'none';
        document.getElementById('nextBtn').style.display = 'none';
        
        const grid = document.getElementById('optionsGrid');
        grid.innerHTML = '';
        
        qData.a.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt;
            btn.onclick = () => checkAnswer(index, btn);
            grid.appendChild(btn);
        });
    }

    function checkAnswer(selectedIndex, btnElement) {
        // Disable all buttons
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.disabled = true);
        
        const qData = quizData[currentQuestion];
        const correctIndex = qData.c;
        
        if (selectedIndex === correctIndex) {
            btnElement.classList.add('correct');
            score++;
        } else {
            btnElement.classList.add('wrong');
            buttons[correctIndex].classList.add('correct');
        }
        
        // Show rationale
        const feedback = document.getElementById('quizFeedback');
        feedback.style.display = 'block';
        feedback.innerHTML = `<b>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</b> ${qData.r}`;
        
        // Show next button
        document.getElementById('nextBtn').style.display = 'inline-block';
        if (currentQuestion === quizData.length - 1) {
            document.getElementById('nextBtn').textContent = '‡∏î‡∏π‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô';
        } else {
            document.getElementById('nextBtn').innerHTML = '‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ <i class="fas fa-arrow-right"></i>';
        }
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < quizData.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quizContent').style.display = 'none';
        document.getElementById('quizResult').style.display = 'block';
        document.getElementById('finalScore').textContent = `${score}/${quizData.length}`;
        
        let msg = "";
        if (score >= 8) msg = "‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î! ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà‡∏ô‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏°‡∏≤‡∏Å üèÜ";
        else if (score >= 5) msg = "‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏£‡∏±‡∏ö üëç";
        else msg = "‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡∏ô‡∏∞! ‡∏•‡∏≠‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡∏π‡∏Ñ‡∏£‡∏±‡∏ö üìö";
        document.getElementById('scoreText').textContent = msg;
    }

    // --- Chat & AI Logic ---
    async function sendMessage() {
        const inputField = document.getElementById("userInput");
        const message = inputField.value.trim();
        if (!message) return;

        addMessage(message, 'user');
        inputField.value = '';
        
        // 1. Local Search (‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô)
        const localMatch = checkLocalDB(message);
        if (localMatch) {
            setTimeout(() => addMessage(localMatch, 'bot'), 400);
            return;
        }

        // 2. AI Process
        addMessage("... ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å AI ...", 'bot', true); 

        try {
            // A. Gemini (Primary)
            console.log("Calling Gemini...");
            const geminiResponse = await callGeminiAPI(message);
            removeLoadingMessage();
            addMessage(geminiResponse, 'bot');
        } catch (geminiError) {
            console.error("Gemini Failed:", geminiError);
            
            // B. Together AI (Backup)
            try {
                console.log("Switching to Together AI...");
                const togetherResponse = await callTogetherAPI(message);
                removeLoadingMessage();
                addMessage(togetherResponse + "<br><br><small style='color:#c0392b;'>*(‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)*</small>", 'bot', false, 'backup');
            } catch (togetherError) {
                removeLoadingMessage();
                addMessage("‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö AI ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ", 'bot');
            }
        }
    }

    function checkLocalDB(query) {
        const lowerQuery = query.toLowerCase();
        let bestMatch = null;
        let maxScore = 0;
        for (let item of localDatabase) {
            let score = 0;
            item.keywords.forEach(k => { if (lowerQuery.includes(k)) score++; });
            if (score > maxScore) { maxScore = score; bestMatch = item.answer; }
        }
        return bestMatch;
    }

    // --- API Calls ---
    async function callGeminiAPI(userPrompt) {
        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`;
        const requestBody = { contents: [{ parts: [{ text: "‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ HR ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏ó‡∏¢ ‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢\n\nUser: " + userPrompt }] }] };
        const response = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(requestBody) });
        if (!response.ok) throw new Error("Gemini Error");
        const data = await response.json();
        return data.candidates[0].content.parts[0].text;
    }

    async function callTogetherAPI(userPrompt) {
        const url = "https://api.together.xyz/v1/chat/completions";
        const requestBody = {
            model: "meta-llama/Llama-3.2-3B-Instruct-Turbo",
            messages: [{ role: "system", content: "‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏ó‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢" }, { role: "user", content: userPrompt }],
            max_tokens: 512
        };
        const response = await fetch(url, { method: 'POST', headers: { 'Authorization': `Bearer ${TOGETHER_API_KEY}`, 'Content-Type': 'application/json' }, body: JSON.stringify(requestBody) });
        if (!response.ok) throw new Error("Together Error");
        const data = await response.json();
        return data.choices[0].message.content;
    }

    // UI Helpers
    function addMessage(text, sender, isLoading = false, type = 'normal') {
        const chatWindow = document.getElementById("chatWindow");
        const msgDiv = document.createElement("div");
        msgDiv.className = `message ${sender} ${type}`;
        if (isLoading) msgDiv.id = "loadingMsg";
        
        let avatarIcon = sender === 'bot' ? '<i class="fas fa-robot"></i>' : '<i class="fas fa-user"></i>';
        let formattedText = text.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>').replace(/\n/g, '<br>');

        msgDiv.innerHTML = `<div class="avatar">${avatarIcon}</div><div class="bubble">${formattedText}</div>`;
        chatWindow.appendChild(msgDiv);
        chatWindow.scrollTop = chatWindow.scrollHeight;
    }

    function removeLoadingMessage() {
        const loadingMsg = document.getElementById("loadingMsg");
        if (loadingMsg) loadingMsg.remove();
    }

    function handleKeyPress(e) { if (e.key === 'Enter') sendMessage(); }
    function quickAsk(q) { document.getElementById("userInput").value = q; sendMessage(); }
    function clearChat() {
        document.getElementById("chatWindow").innerHTML = `<div class="message bot"><div class="avatar"><i class="fas fa-robot"></i></div><div class="bubble">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏±‡∏ö! (Gemini/Together Ready)</div></div>`;
    }
</script>

</body>
</html>
